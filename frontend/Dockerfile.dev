# Это упрощенная версия Dockerfile специально для разработки.
# Он не компилирует проект, а только готовит среду.

# 1. Берем полный образ Node.js, в котором есть все для разработки.
FROM node:18

# 2. Устанавливаем рабочую директорию внутри контейнера.
WORKDIR /app

# 3. Копируем package.json и lock-файл для установки зависимостей.
COPY package*.json ./

# 4. Устанавливаем зависимости.
RUN npm install

# 5. Копируем весь остальной код.
# Хотя он будет "перекрыт" томом (volume) из docker-compose, это хорошая практика
# и позволяет кэшировать слои.
COPY . .

# Команда для запуска будет передана из docker-compose.yml (command: npm run dev)